
<div id="home-body-page-1" ng-controller="MainCtrl as main">
  <header class="clearfix">
<!--     <img src="" alt="Trip Planner Logo" id="brand-logo"> -->
    <div id="menu-top-right">
      <a ng-hide="main.isLoggedIn()" href="#email-field" id="signup-link">signup</a>
      <a ng-hide="main.isLoggedIn()" href="/login">login</a>
      <span ng-show="main.isLoggedIn()">hello, {{getCurrentUser().name}}</span>
      <span ng-show="main.isLoggedIn()">
<<<<<<< HEAD
        <a href="/settings"><span class="glyphicon glyphicon-cog"></span></a>
      </span>
      <span ng-show="main.isLoggedIn()" ng-class="{active: isActive('/logout')}"><a href="" ng-click="main.logout()">logout</a></span>
=======
        <a href="/settings"><span class="glyphicon glyphicon-cog"></a>
      </span>
      <span ng-show="main.isLoggedIn()" ng-class="{active: isActive('/logout')}">
        <a href="" ng-click="main.logout()">logout</a>
      </span>
>>>>>>> f690a7c3550c357ba5b663945a8e43be64f8b0de
    </div>
  </header>



  <div ng-hide="main.isLoggedIn()" id="logo-container"><img src="../../assets/images/tripmonk_logo.png" alt="Trip Planner Logo" id="brand-logo"></div>

  <!-- QUESTIONNAIRE STARTS HERE -->
  <div id="newtrip">

    <div>
      <h1>{{main.currNode.question}}</h1>
    </div>

    <div ng-repeat="connection in main.currNode.connections">
      <button>
        {{connection.option}}
      </button>

      <div>
          <input ng-model="main.currNode.answer"><button ng-click="main.getNext(connection.next, main.currNode.answer)">Continue</button>
      </div>
    </div>

    <button ng-click="main.getNext(connection.next, connection.option)">next</button><button ng-click="main.getPrev()">back</button>
  </div>
  <!-- QUESTIONNAIRE ENDS HERE -->


  <footer ng-hide="main.isLoggedIn()" id="home-footer-page-1">
    <form class="col-lg-12 col-md-12" name="form" ng-submit="main.register(form)" id="signup-form" novalidate>

       <div class="col-lg-3 col-md-3" ng-class="{ 'has-success': form.name.$valid && submitted,'has-error': form.name.$invalid && submitted }">

        <input type="text" name="name" placeholder="name" class="form-children text-input" ng-model="main.user.name" required mongoose-error/>
      </div>


      <div class="col-lg-3 col-md-3" ng-class="{ 'has-success': main.form.email.$valid && submitted,'has-error': main.form.email.$invalid && submitted }">

        <input type="email" name="email" placeholder="email" class="form-children text-input" id="email-field" ng-model="main.user.email" required mongoose-error/>
        <p class="help-block" ng-show="main.form.email.$error.email && submitted">
          Doesn't look like a valid email.
        </p>
        <p class="help-block" ng-show="main.form.email.$error.required && submitted">
          What's your email address?
        </p>
        <p class="help-block" ng-show="main.form.email.$error.mongoose">
          {{ main.errors.email }}
        </p>
      </div>

      <div class="col-lg-3 col-md-3" ng-class="{ 'has-success': main.form.password.$valid && submitted, 'has-error': main.form.password.$invalid && submitted }">

        <input type="password" name="password" placeholder="password" class="form-children text-input" ng-model="main.user.password" ng-minlength="3" required mongoose-error/>
        <p class="help-block"
           ng-show="(main.form.password.$error.minlength || main.form.password.$error.required) && submitted">
          Password must be at least 3 characters.
        </p>
        <p class="help-block" ng-show="main.form.password.$error.mongoose">
          {{ errors.password }}
        </p>
      </div>

      <div class="col-lg-3 col-md-3">
        <div class="col-lg-7 col-md-7">
          <i class="glyphicon glyphicon-chevron-right" id="chevron"></i>
            <button type="submit" id="signup-button" class="form-children btn btn-xs">plan a trip</button>
        </div>

        <div id="social-media-icons" class="col-lg-5 col-md-5">
          <div class="social-media-icon col-lg-4 col-md-4">
            <a class="btn btn-facebook" href="" ng-click="main.loginOauth('facebook')">
              <i class="fa fa-facebook"></i>
            </a>
          </div>
          <div class="social-media-icon col-lg-4 col-md-4">
            <a class="btn btn-google-plus" href="" ng-click="main.loginOauth('google')">
              <i class="fa fa-google-plus"></i>
            </a>
          </div>
          <div class="social-media-icon col-lg-4 col-md-4">
            <a class="btn btn-twitter" href="" ng-click="main.loginOauth('twitter')">
              <i class="fa fa-twitter"></i>
            </a>
          </div>
        </div>
      </div>
    </form>

  </footer>

<script>
  $('#signup-link').click(function() {
    $('#email-field').focus();
  });
</script>

</div>